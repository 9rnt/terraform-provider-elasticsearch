---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "elasticsearch_kibana_alert Resource - terraform-provider-elasticsearch"
subcategory: ""
description: |-
  Alerts allow you to define rules to detect conditions and trigger actions when those conditions are met. Alerts work by running checks on a schedule to detect conditions. When a condition is met, the alert tracks it as an alert instance and responds by triggering one or more actions. Actions typically involve interaction with Kibana services or third party integrations. For more see the docs https://www.elastic.co/guide/en/kibana/current/alerting-getting-started.html.
---

# elasticsearch_kibana_alert (Resource)

Alerts allow you to define rules to detect conditions and trigger actions when those conditions are met. Alerts work by running checks on a schedule to detect conditions. When a condition is met, the alert tracks it as an alert instance and responds by triggering one or more actions. Actions typically involve interaction with Kibana services or third party integrations. For more see the [docs](https://www.elastic.co/guide/en/kibana/current/alerting-getting-started.html).

## Example Usage

```terraform
resource "elasticsearch_kibana_alert" "test" {
  name = "terraform-alert"
  schedule {
  	interval = "1m"
  }
  conditions {
    aggregation_type = "avg"
    term_size = 6
    threshold_comparator = ">"
    time_window_size = 5
    time_window_unit = "m"
    group_by = "top"
    threshold = [1000]
    index = [".test-index"]
    time_field = "@timestamp"
    aggregation_field = "sheet.version"
    term_field = "name.keyword"
  }
  actions {
  	id = "c87f0dc6-c301-4988-aee9-95d391359a39"
  	action_type_id = ".index"
  	params = {
  		level = "info"
  		message = "alert '{{alertName}}' is active for group '{{context.group}}':\n\n- Value: {{context.value}}\n- Conditions Met: {{context.conditions}} over {{params.timeWindowSize}}{{params.timeWindowUnit}}\n- Timestamp: {{context.date}}"
  	}
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **conditions** (Block Set, Min: 1, Max: 1) The conditions under which the alert is active, they create an expression to be evaluated by the alert type executor. These parameters are passed to the executor `params`. There may be specific attributes for different alert types. (see [below for nested schema](#nestedblock--conditions))
- **name** (String)

### Optional

- **actions** (Block Set) (see [below for nested schema](#nestedblock--actions))
- **alert_type_id** (String) The ID of the alert type that you want to call when the alert is scheduled to run, defaults to `.index-threshold`.
- **consumer** (String) The name of the application that owns the alert. This name has to match the Kibana Feature name, as that dictates the required RBAC privileges. Defaults to `alerts`.
- **enabled** (Boolean)
- **id** (String) The ID of this resource.
- **notify_when** (String) The condition for throttling the notification: `onActionGroupChange`, `onActiveAlert`, or `onThrottleInterval`. Only available in Kibana >= 7.11
- **schedule** (Block List, Max: 1) (see [below for nested schema](#nestedblock--schedule))
- **tags** (Set of String)
- **throttle** (String)

<a id="nestedblock--conditions"></a>
### Nested Schema for `conditions`

Required:

- **index** (Set of String)
- **threshold** (Set of Number)
- **threshold_comparator** (String)
- **time_field** (String)
- **time_window_size** (Number)
- **time_window_unit** (String)

Optional:

- **aggregation_field** (String)
- **aggregation_type** (String)
- **group_by** (String)
- **term_field** (String)
- **term_size** (Number)


<a id="nestedblock--actions"></a>
### Nested Schema for `actions`

Required:

- **action_type_id** (String)
- **id** (String) The ID of this resource.

Optional:

- **group** (String)
- **params** (Map of String)


<a id="nestedblock--schedule"></a>
### Nested Schema for `schedule`

Required:

- **interval** (String)


